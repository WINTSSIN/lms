<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Library Management System</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
    href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Marcellus&display=swap"
    rel="stylesheet">
    <script src="https://unpkg.com/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="homepage">
    <div th:replace="~{fragments/header-admin :: header}"></div>
    <section class="bg-white">
        <div class="section-header text-center">
            <h3 class="section-title">Transaction Management</h3>
        </div>
        <div th:if="${message != null}" class="alert alert-success" role="alert">
            <span th:text="${message}"></span>
        </div>
        <div class="container" style="height: 90%; overflow: scroll;">
            <form action="/library/controlBook" method="POST" th:object="${library}">
                <div class="row mb-3">
                    <div class="col-md-3">
                        <label for="bookId" class="form-label">Book Title:</label>
                        <select id="bookId" name="bookId" class="form-select" required>
                            <option value="" disabled selected>Select Book</option>
                            <th:block th:each="book : ${books}">
                                <option th:value="${book.id}" th:text="${book.title}"></option>
                            </th:block>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="memberId" class="form-label">Member ID:</label>
                        <select id="memberId" name="memberId" class="form-select" required>
                            <option value="" disabled selected>Select Member</option>
                            <th:block th:each="member : ${members}">
                                <option th:value="${member.id}" th:text="${member.memberId}"></option>
                            </th:block>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="action" class="form-label">Action:</label>
                        <select id="action" name="action" class="form-select">
                            <option value="issue">Issue Book</option>
                            <option value="return">Return Book</option>
                            <option value="reserve">Reserve Book</option>
                        </select>
                    </div>
                    <div class="col-md-3 d-flex align-items-end">
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>
